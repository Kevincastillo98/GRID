# -*- coding:utf-8 -*-
from mako import runtime, filters, cache
UNDEFINED = runtime.UNDEFINED
STOP_RENDERING = runtime.STOP_RENDERING
__M_dict_builtin = dict
__M_locals_builtin = locals
_magic_number = 10
_modified_time = 1574786588.791467
_enable_loop = True
_template_filename = '/Users/dwim/Developer/AlejandroTurboGears/Python/myproject/myproject/templates/courses/courses.mak'
_template_uri = '/Users/dwim/Developer/AlejandroTurboGears/Python/myproject/myproject/templates/courses/courses.mak'
_source_encoding = 'utf-8'
from markupsafe import escape_silent as escape
_exports = []


def _mako_get_namespace(context, name):
    try:
        return context.namespaces[(__name__, name)]
    except KeyError:
        _mako_generate_namespaces(context)
        return context.namespaces[(__name__, name)]
def _mako_generate_namespaces(context):
    pass
def _mako_inherit(template, context):
    _mako_generate_namespaces(context)
    return runtime._inherit_from(context, 'local:templates.master', _template_uri)
def render_body(context,**pageargs):
    __M_caller = context.caller_stack._push_frame()
    try:
        __M_locals = __M_dict_builtin(pageargs=pageargs)
        h = context.get('h', UNDEFINED)
        tg = context.get('tg', UNDEFINED)
        _ = context.get('_', UNDEFINED)
        __M_writer = context.writer()
        __M_writer('\n<html lang="en">\n<head>\n<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>\n  <script src="//cdn.jsdelivr.net/free-jqgrid/4.8.0/js/i18n/grid.locale-es.js"></script>\n  <script src="//cdn.jsdelivr.net/free-jqgrid/4.8.0/js/jquery.jqgrid.min.js"></script>\n  <link rel="stylesheet" href="//cdn.jsdelivr.net/free-jqgrid/4.8.0/css/ui.jqgrid.css">\n\n  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">\n  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">\n  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>\n\n  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>\n  <link rel="stylesheet" type="text/css" media="screen" href="')
        __M_writer(escape(tg.url('/css/dot-luv/jquery-ui.css')))
        __M_writer('" />\n    <meta charset="utf-8" />\n    <title>jqGrid Loading Data - Million Rows from a REST service</title>\n</head>\n<body>\n\n<table style="width:100%;overflow:auto;">\n    <table id="jqGridTableCourses" class="scroll" cellpadding="0" cellspacing="0"></table>\n    <div id="listPagerTablesCourses" class="scroll" style="text-align:center;"></div>\n    <div id="listPsetcolsCourses" class="scroll" style="text-align:center;"></div>\n</table>\n<script type="text/javascript">\n        $(document).ready(\n        function () {\n            var grid_name_course= \'#jqGridTableCourses\';\n            var grid_pager_course= \'#listPagerTablesCourses\';\n            var update_url_course=\'/courses/updateCourses\';\n            var load_url_course=\'/courses/loadCourses/\';\n            var header_container_course=\'Registro de Cursos\';\n            var addParams_course = {left: 0,width: window.innerWidth-400,top: 20,height: 250,url: update_url_course, closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true}\n            var editParams_course = {left: 0,width: window.innerWidth-400,top: 20,height: 250,url: update_url_course,closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true,modal: true,\n                    width: "500",\n                    editfunc: function (rowid) {\n                    alert(\'The "Edit" button was clicked with rowid=\' + rowid);\n                    }\n                };\n            var deleteParams_course = {left: 0,width: window.innerWidth-500,top: 20,height: 130,url: update_url_course,closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true}\n            var viewParams_course = {left: 0,width: window.innerWidth-700,top: 20,height: 130,url: update_url_course,closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true}\n            var searchParams_course = {top: 20,height: 130,width: "500",closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true,url: update_url_course,modal: true, };\n            var grid_course = jQuery(grid_name_course);\n            grid_course.jqGrid({\n                url: load_url_course,\n                datatype: \'json\',\n                mtype: \'GET\',\n                colNames: [\'ID de Curso\', \'Registro\',\'Nombre\'],\n                colModel: [\n                    {name: \'course_id\',index: \'course_id\', width: 5,align: \'left\',key:true,hidden: true, editable: true,edittype: \'text\',editrules: {required: false}},\n                    {name: \'code\',index: \'code\', width: 30, align: \'right\',hidden: false,editable: true, edittype: \'text\',editrules: {required: false}},\n                    {name: \'name\',index: \'name\', width: 30, align: \'right\',hidden: false,editable: true, edittype: \'text\',editrules: {required: false}},\n\n                ],\n                pager: jQuery(grid_pager_course),\n                rowNum: 10,\n                rowList: [10, 50, 100],\n                sortname: \'course_id\',\n                sortorder: "desc",\n                autowidth: true,\n                shrinkToFit: true,\n                viewrecords: true,\n                height: 150,\n                caption: header_container_course,\n                ondblClickRow: function(rowId) {\n                    closeVenusActivity(rowId);\n                }\n            });\n            grid_course.jqGrid(\'navGrid\',grid_pager_course,{edit:true,add:true,del:true, search:true},\n                            editParams_course,\n                            addParams_course,\n                            deleteParams_course,\n                            searchParams_course,\n                            viewParams_course);\n        });\n        $.extend($.jgrid.nav,{alerttop:1});\n</script>\n\n<br>\n</br>\n\n<table style="width:100%;overflow:auto;">\n<table id="jqGridTableStudent" class="scroll" cellpadding="0" cellspacing="0"></table>\n    <div id="listPagerTablesStudent" class="scroll" style="text-align:center;"></div>\n    <div id="listPsetcolsStudent" class="scroll" style="text-align:center;"></div>\n</table>\n<script type="text/javascript">\n        $(document).ready(\n        function () {\n            var grid_name_student= \'#jqGridTableStudent\';\n            var grid_pager_student= \'#listPagerTablesStudent\';\n            var update_url_student=\'/courses/updateStudent\';\n            var load_url_student=\'/courses/loadStudent/\';\n            var header_container_student=\'Registro de Estudiantes\';\n            var addParams_student = {left: 0,width: window.innerWidth-400,top: 20,height: 250,url: update_url_student, closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true}\n            var editParams_student = {left: 0,width: window.innerWidth-400,top: 20,height: 250,url: update_url_student,closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true,modal: true,\n                    width: "500",\n                    editfunc: function (rowid) {\n                    alert(\'The "Edit" button was clicked with rowid=\' + rowid);\n                    }\n                };\n            var deleteParams_student = {left: 0,width: window.innerWidth-500,top: 20,height: 130,url: update_url_student,closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true}\n            var viewParams_student = {left: 0,width: window.innerWidth-700,top: 20,height: 130,url: update_url_student,closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true}\n            var searchParams_student = {top: 20,height: 130,width: "500",closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true,url: update_url_student,modal: true, };\n            var grid_student = jQuery(grid_name_student);\n            grid_student.jqGrid({\n                url: load_url_student,\n                datatype: \'json\',\n                mtype: \'GET\',\n                colNames: [\'ID de Estudiante\', \'Nombre\',\'Apellido\'],\n                colModel: [\n                    {name: \'student_id\',index: \'student_id\', width: 5,align: \'left\',key:true,hidden: false, editable: true,edittype: \'text\',editrules: {required: false}},\n                    {name: \'name\',index: \'name\', width: 30, align: \'right\',hidden: false,editable: true, edittype: \'text\',editrules: {required: false}},\n                    {name: \'lastname\',index: \'code\', width: 30, align: \'right\',hidden: false,editable: true, edittype: \'text\',editrules: {required: false}},\n\n                ],\n                pager: jQuery(grid_pager_student),\n                rowNum: 10,\n                rowList: [10, 50, 100],\n                sortname: \'student_id\',\n                sortorder: "desc",\n                autowidth: true,\n                shrinkToFit: true,\n                viewrecords: true,\n                height: 150,\n                subGrid:true,\n                subGridRowExpanded: showChildGridRegistro,\n                caption: header_container_student,\n                ondblClickRow: function(rowId) {\n                    closeVenusActivity(rowId);\n                }\n            });\n            grid_student.jqGrid(\'navGrid\',grid_pager_student,{edit:true,add:true,del:true, search:true},\n                            editParams_student,\n                            addParams_student,\n                            deleteParams_student,\n                            searchParams_student,\n                            viewParams_student);\n        });\n        $.extend($.jgrid.nav,{alerttop:1});\n</script>\n\n<br></br>\n\n\n<table style="width:100%;overflow:auto;">\n<table id="jqGridTableRegistered" class="scroll" cellpadding="0" cellspacing="0"></table>\n    <div id="listPagerTablesRegistered" class="scroll" style="text-align:center;"></div>\n    <div id="listPsetcolsRegistered" class="scroll" style="text-align:center;"></div>\n    <div id="dialogForm01"  title="Elimina Registros"></div>\n</table>\n<script type="text/javascript">\n        $(document).ready(\n        function () {\n            var grid_name_registered= \'#jqGridTableRegistered\';\n            var grid_pager_registered= \'#listPagerTablesRegistered\';\n            var update_url_registered=\'/courses/updateRegistered\';\n            var load_url_registered=\'/courses/loadRegistered/\';\n            var header_container_registered=\'Registros de Curso\';\n            var addParams_registered = {left: 0,width: window.innerWidth-400,top: 20,height: 250,url: update_url_registered, closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true}\n            var editParams_registered = {left: 0,width: window.innerWidth-400,top: 20,height: 250,url: update_url_registered,closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true,modal: true,\n                    width: "500",\n                    editfunc: function (rowid) {\n                    alert(\'The "Edit" button was clicked with rowid=\' + rowid);\n                    }\n                };\n            var deleteParams_registered = {left: 0,width: window.innerWidth-500,top: 20,height: 130,url: \'/courses/DeleteRegistered/\',closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true}\n            var viewParams_registered = {left: 0,width: window.innerWidth-700,top: 20,height: 130,url: update_url_registered,closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true}\n            var searchParams_registered = {top: 20,height: 130,width: "500",closeAfterAdd: true,closeAfterEdit: true,closeAfterSearch:true,url: update_url_registered,modal: true, };\n            var grid_registered = jQuery(grid_name_registered);\n            grid_registered.jqGrid({\n                url: load_url_registered,\n                datatype: \'json\',\n                mtype: \'GET\',\n                colNames: [\'ClaveEstudiante\',\'courses_id\' ,\'Nombre de estudiante\', \'Curso\'],\n                colModel: [\n                    {name: \'student_id\',index: \'student_id\', width: 5, align: \'right\',hidden: false,editable: true, edittype: \'text\',editrules: {required: false}},\n                    {name: \'course_id\',index: \'course_id\', width: 5, align: \'right\',hidden: true,editable: true, edittype: \'text\',editrules: {required: false}},\n                    {name: \'student_name\',index: \'name\', width: 30, align: \'right\',hidden: false,editable: true, edittype: \'text\',editrules: {required: false}},\n                    {name: \'course_name\',index: \'name\', width: 30, align: \'right\',hidden: false,editable: true, edittype: \'text\',editrules: {required: false}},\n\n                ],\n                pager: jQuery(grid_pager_registered),\n                rowNum: 10,\n                rowList: [10, 50, 100],\n                sortname: \'registered_id\',\n                sortorder: "desc",\n                autowidth: true,\n                shrinkToFit: true,\n                viewrecords: true,\n                height: 150,\n                caption: header_container_registered,\n                ondblClickRow: function(rowId) {\n\n                }\n            });\n            grid_registered.jqGrid(\'navGrid\',grid_pager_registered,{edit:false,add:true,del:false, search:false},\n                            editParams_registered,\n                            addParams_registered,\n                            deleteParams_registered,\n                            searchParams_registered,\n                            viewParams_registered);\n            grid_registered.navButtonAdd(grid_pager_registered,\n                {\n                    buttonicon: " ui-icon-trash",\n                    title: "Eliminar",\n                    caption: " ",\n                    position: "last",\n                    onClickButton: function(rowId){\n                        EliminaFila(rowId);\n                    }\n                })\n            .navButtonAdd(grid_pager_registered,{\n                    caption:"",\n                    buttonicon:"ui-icon-del",\n                    onClickButton: function(){\n                    alert("Surprise!!!");\n                    },\n                    position:"last"\n                });\n        });\n\n        $.extend($.jgrid.nav,{alerttop:1});\n\n        function EliminaFila(rowId){\n            var selRowId = jQuery(\'#jqGridTableRegistered\').jqGrid (\'getGridParam\', \'selrow\');\n            var rowData = jQuery("#jqGridTableRegistered").getRowData(selRowId);\n            var student_id = rowData[\'student_id\'];\n            var course_id = rowData[\'course_id\'];\n\n\n                if (!selRowId){\n                 alert("Seleccione una fila")\n               }\n           else {\n                    $(\'#dialogForm01\').html("¿Deseas eliminar este registro?");\n                    var winHeight = Math.round(window.innerHeight * .345)\n                    var winWidth = Math.round(window.innerWidth * .445)\n                    var ContDialog = $("#dialogForm01").dialog({\n                        autoOpen: false,\n                        height: winHeight - 100,\n                        width: winWidth - 300,\n                        modal: true,\n                        title: "')
        __M_writer(escape(_('Eliminar')))
        __M_writer('",\n                        dialogClass: "noclose",\n                        closeOnEscape: false,\n                        buttons: {\n                            "')
        __M_writer(escape(_('Si')))
        __M_writer('": function () {\n                                $(\'#dialogForm01\').html("");\n\n                                    <!-- Aquí inicia la funcion para enviar los datos del row al EndPoint-->\n                                    var formData = new FormData();\n                                    formData.append("student_id", student_id);\n                                    formData.append("course_id", course_id);\n                                    var request = new XMLHttpRequest();\n                                    request.open("POST", \'')
        __M_writer(escape(h.url()))
        __M_writer('/courses/DeleteRegistered\');\n                                    request.send(formData);\n                                    $(\'#jqGridTableRegistered\').trigger( \'reloadGrid\' );\n\n                                ContDialog.dialog("close");\n                            },\n                            "')
        __M_writer(escape(_('No')))
        __M_writer('": function () {\n                                $(\'#dialogForm01\').html("");\n                                ContDialog.dialog("close");\n                            }\n                        },\n                        close: function () {\n                        }\n                    });\n                    ContDialog.dialog("open");\n                }\n\n}\n\nfunction showChildGridRegistro(parentRowID, parentRowKey) {\n     var childGridID = parentRowID + "_table";\n     var childGridPagerID = parentRowID + "_pager";\n\n     // send the parent row primary key to the server so that we know which grid to show\n     var childGridURL = "')
        __M_writer(escape(h.url()))
        __M_writer('/courses/loadSubGridCursos";\n     childGridURL = childGridURL + "?student_id=" + encodeURIComponent(parentRowKey);\n\n     // add a table and pager HTML elements to the parent grid row - we will render the child grid here\n     $(\'#\' + parentRowID).append(\'<table id=\'+childGridID+\'><div id=\'+childGridPagerID+\'class=scroll></div>\');\n\n     $("#" + childGridID).jqGrid({\n          url: childGridURL,\n          mtype: "GET",\n          datatype: "json",\n          page: 1,\n          sortname: \'course_id\',\n          sortorder: "desc",\n          colModel: [\n                 {name: \'course_id\',index: \'course_id\', align: \'center\',key:true,hidden: false, editable: false,edittype: \'text\',editrules: {required: true},search:false},\n                 {name: \'code\', index: \'code\',align: \'left\',hidden: false, editable: true, edittype: \'text\', editrules: {required: false}},\n                 {name: \'name\', index: \'name\',align: \'left\',hidden: false, width:90,editable: true, edittype: \'text\', editrules: {required: false}},\n                ],\n          loadonce: true,\n          scroll:true,\n          width: 500,\n          height: 75,\n          rowNum: 5,\n          rowList: [5,10],\n          pager: "#" + childGridPagerID,\n          autowidth: true,\n          });\n}\n\nfunction imageUp() {\n        var formData = new FormData();\n        var request = new XMLHttpRequest();\n        formData.append("application_id", "12345");\n        var input = document.querySelector(\'input[type=file]\');\n        if(input != null){\n            var file = input.files[0];\n            formData.append("file", file);\n        }\n        request.open("POST", \'')
        __M_writer(escape(h.url()))
        __M_writer('/ticket/save?\'+info);\n        request.send(formData);\n        request.onload  = function() {\n            var response = JSON.parse(request.responseText);\n            if (response.error == "ok"){\n               alert("TODO OK");\n            }else{\n                alert("HUBO PROBLEMA");\n            }\n        };\n}\n</script>\n\n\n\n</body>\n</html>')
        return ''
    finally:
        context.caller_stack._pop_frame()


"""
__M_BEGIN_METADATA
{"filename": "/Users/dwim/Developer/AlejandroTurboGears/Python/myproject/myproject/templates/courses/courses.mak", "uri": "/Users/dwim/Developer/AlejandroTurboGears/Python/myproject/myproject/templates/courses/courses.mak", "source_encoding": "utf-8", "line_map": {"28": 0, "36": 1, "37": 14, "38": 14, "39": 244, "40": 244, "41": 248, "42": 248, "43": 256, "44": 256, "45": 262, "46": 262, "47": 280, "48": 280, "49": 318, "50": 318, "56": 50}}
__M_END_METADATA
"""
